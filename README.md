# yaswm
Вайпалка сосача с поддержкой резидентских прокси. Функционально сходна с dollwipe, но при этом минималистичнее, с более простой и свежей кодовой базой. 

Мотивирована тем, что в старой было накоплено слишком много лишнего.

## Собрать
###### Go >= 1.18
Проверить версию компилятора:

```
$ go version
go version go1.21.3 linux/amd64
```

Собрать:

```bash
$ git clone https://github.com/neuroliptica/yaswm.git
$ cd yaswm && go build
```

## Использование
Краткое описание настроек можно посмотреть написав

```
$ ./wipe --help
```

## Доступные солверы
- [RuCaptcha](https://rucaptcha.com)
- OCR (нужен инстанс нейронки)

## OCR сервер
Вайпалка может использовать инстанс нейронки для решения капчи, как локальный так и удалённый. Для этого нужно задать флаг `--ocr-server=`. Пример:

```
$ ./wipe -c 0 --ocr-server=http://127.0.0.1:8080/api/predict 
```

Схема тела запроса и ответа, которой должен удовлетворять солвер:

Request:
```json
{
    "data": ["base64 captcha image"]
}
```

Response:
```json
{
    "data": ["result value"]
}
```

## Сервер с картинками
Вместо картинок из конкретной директории, можно запрашивать картинки с удаленного сервера. Для этого достаточно задать флаг `--image-server=`. Пример:

```
$ ./wipe --pic --image-server=http://localhost:13785/get
```

В этом случае вайпалка будет прикреплять к постам картинки, получаемые с `http://localhost:13785/get`. Форматом ответа сервера является картинка в формате jpeg или png и заголовок `Content-Type` в ответе. Его допустимые значения:
- image/png
- image/jpeg

## Ошибки
Сюда в issues или мне в [телеграмм](https://t.me/seharehare).
